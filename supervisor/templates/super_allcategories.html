{% extends 'supervisorcore.html' %}
{% block content %}


<h2 class="sub-header">Categories</h2>

<form action="/supervisor/addcategory/" method = "post"> {% csrf_token %}
<p>{{ form.non_field_errors }} {{ form.error_messages }}</p>
<table>
<tr><td>{{ form.name.label_tag }} </td> <td>{{ form.name }}</td></tr>
<tr><td>{{ form.description.label_tag }}</td> <td> {{form.description }} </td></tr>
<tr><td><input type="submit" value="Add Category" /></td></tr>
</table>
</form>
<hr />
{% if categories %}
<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
    {% for c in categories %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td><a href="{% url 'super_viewcategory' c.pk %}">{{ c.name|truncatechars:"100" }}</a></td>
        <td>{{ c.description|truncatechars:"100" }}</td>
        </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
There aren't any categories added yet
{% endif %}
{% endblock %}